<!DOCTYPE html>
<html>

<head>
    <title>截图并下载</title>
    <style>
        .test {
            height: 30vh;
            width: 30vw;
            background-color: skyblue;
        }
    </style>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>

<body>
    <button id="capture-btn">点击截图并下载</button>

    <div class="test">
        <!-- 这是待截图的内容 -->
        <h1>Hello, World!</h1>
        <p>这是一个测试截图的段落。</p>
    </div>

    <script>
        // 获取按钮元素
        var button = document.getElementById('capture-btn');

        // 添加点击事件监听器
        button.addEventListener('click', function () {
            // 获取需要截图的 DOM 节点
            var node = document.querySelector('.test');

            // 使用html2canvas进行截图
            html2canvas(node).then(function (canvas) {
                // 创建一个临时链接元素
                var link = document.createElement('a');

                // 将画布转换为图片URL
                var image = canvas.toDataURL();

                // 设置链接元素的href属性为图片URL
                link.href = image;

                // 设置链接元素的下载属性为截图.png
                link.download = '截图.png';

                // 模拟点击链接元素，开始下载
                link.click();
            });
        });
    </script>
</body>

</html>